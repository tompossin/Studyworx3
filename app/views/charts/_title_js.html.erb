<script>
  $('#title-container').on('keydown','.editable', function(e) {
    if(e.keyCode==13 || e.keyCode==9){
      if(e.keyCode==13){
        e.preventDefault();
      }
      $.ajax({
        type: "PUT",
        url: $(this).data('url'),
        data: ({title: $(this).html()}),
        dataType: "script"
      });
    }
  });
  
  $('#title-container').on('focusout','.editable', function(e) {
      $.ajax({
        type: "PUT",
        url: $(this).data('url'),
        data: ({title: $(this).html()}),
        dataType: "script"
      });
  });
  
  $('#title-container').on('dblclick','.editable', function(e) {
    $.ajax({
      type: "GET",
      url: $(this).data('new_title_url')
    });
  });
  
</script>
